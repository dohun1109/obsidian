# 제네릭 (Generics) 이란 ? 

---
자바에서 제네릭은 **클래스 내부에서 사용할 데이터 타입을 외부에서 지정하는 기법**을 의미한다. 
객채별로 다른 타입의 자료가 저장될 수 있도록 한다. 
자바에서 배열과 함께 자주 쓰이는 자료형이(List)인데, 다음과 같이 클래스 선언 문법에 꺽쇠 괄호 `< >` 로 되어 있는 코드 형태를 한번 쯤은 봤을 것이다. 

```java
	ArrayList<String> list = new ArrayList<>();
```
저 **꺽쇠 괄호**가 바로 제네릭이다. 괄호 안에는 타입명을 기재한다. 그러면 저 리스트 클래스 자료형의 타입은 String 타입으로 지정되어 문자열 데이터만 리스트에 적재할 수 있게 된다. 

[아래 그림](https://inpa.tistory.com/entry/JAVA-☕-제네릭Generics-개념-문법-정복하기)과 같이 배열과 리스트의 선언문 형태를 비교해보면 이해하기 쉬울 것이다. 선언하는 키워드나 문법 순서가 다를뿐, 결국 자료형명을 선언하고 자료형의 타입을 지정한다는 점은 같다고 볼 수 있다. 

이처럼 제네릭은 배열의 타입을 지정하듯이 리스트 자료형같은 컬렉션 클래스나 메소드에서 사용할 내부 데이터입(type)을 파라미터 주듯이 외부에서 지정하는 이른바 타입을 변수화 한 기능이라고 이해하면 된다.  

>[!TIP] TIP
> 우리가 변수를 선언할 때 변수의 타입을 지정해주듯이, 제네릭은 객체에 타입을 지정해주는 것이 라고 보면 된다. 


---

## 제네릭 타입 매개변수 

위에서 보다시피, 제네릭은 `< >`꺽쇠 괄호 키워드를 사용하는데 이를 다이아몬드 연산자라고 한다. 그리고 이 꺽쇠 괄호 안에 **식별자 기호**를 지정함으로써 파라미터화 할 수 있다. 이것을 마치 메소드가 매개변수를 받아 사용하는 것과 비슷하여 제네릭의 타입 매개변수/ 타입 변수 라고 부른다. 
![[스크린샷 2024-01-11 오후 5.24.18.png]]
## 타입 파라미터 정의 
이 타입 매개변수는 **제네릭을 이용한 클래스나 메소드를 설계**할 때 사용된다. 

예를 들어 다음 코드는 제네릭을 감미한 클래스를 정의한 코드이다. 클래스명 옆에 `<T>`기호로 제네릭을 붙여준 걸 볼 수 있다. 그리고 클래스 내부에서 식별자 기호 `T`를 클래스 필드와, 메소드의 매개변수의 타입으로 지정되어 있다. 
```java 
	class FruitBox<T> {
		List<T> fruits = new ArrayList<>();

		public void add(T fruit){
			fruits.add(fruit);
		}
	}
```

제네릭 클래스를 만들었으면 이를 인스턴스화 해보자. 마치 파라미터를 지정해서 보내는 것처럼 생성 코드에서 꺾쇠 괄호 안에 지정해 주고 싶은 타입명을 할당해주면, 제네릭 클래스 선언문 부분으로 가서 타입 파라미터 `T` 가 지정된 타입으로 모둔 변호나되어 클래스의 타입이 지정되게 되는 것이다. 



## 타입 파라미터 생략 
제네릭 객체를 사용하는 문법 형태를 보면 양쪽 두 군데에 괄호 제네릭 타입을 지정함을 볼 수 있다. 하지만 맨 앞에서 클래스명과 함께 타입을 지정해 주었는데 굳이 생성자까지 제네릭을 지정해 줄 필요가 없다 (중복) 
따라서, jdk 1.7 버전 이후 부터  new 생성자 부분의 제네릭 타입을 생략할 수 있게 되었다. 제네릭 나름대로 타입 추론을 해서 생략이 된 곳을 넣어주기 때문에 문제가 없는 것이다. 


## 타입 파라미터 할당 가능 타입 
제네릭에서 할당 받을 수 있는 타입은 `Reference Type` 뿐이다. 즉, int 형이나 double형 같은 Primitive Type 을 제네릭 타입 파라미터로 넘길 수 없다는 말이다. 
우리가 Wrapper Class 에 대해 공부할 때 이미 int, double 형이 존재하는데, 왜 굳이 똑같은 역활을 하는 `Integer, Double` 형 클래스를 만들어 놨을까 고민을 해본적이 있었을 것이다. 바로 이때 사용하는 것이라고 이해하면 된다. 
OOP 에서는 모든것이 객체로 통신하기 때문에 번거롭더라도 익숙해 지어야 한다. 
```java
// 기본 타입 int는 사용불가 !!!!
List<int> intList = new List<>();

// Wrapper 클래스로 넘겨주어야 한다. (내부에서 자동으로 언박싱이 되어 원시 타입으로 이용됨)
List<Integer> intgerList = new List<>();


```

 또한 제네릭 타입 파라미터에 클래스가 타입으로 온다는 것은 , 클래스끼리 상속을 토앻 관계를 맺는 객체지향 프로그램의 **다형성**원리가 그대로 적용이 된다는 소리이다. 
 아래 예제 코드를 보면 타입 파라미터로 `<Fruit>`로 지정했지만 [업캐스팅](https://inpa.tistory.com/entry/JAVA-☕-제네릭Generics-개념-문법-정복하기) 을 통해 그 자식 객체도 할당이 됨을 볼 수 있다. 

## 복수 타입 파라미터 
제네릭은 반드시 한개만 사용하라는 법은 없다. 만일 타입 지정이 여러개가 필요할 경우 2개, 3개 얼마든지 만들 수 있다. 
제네릭 타입의 구분은 꺽쇠 괄호안에 쉼표(,)로 하며 `<T, U>`와 같은 형식을 통해 복수 타입 파라미터를 지정할 수 있다. 그리고 당연히 클래스 초기화할때 제네릭 타입을 두 개 넘겨주면 된다. 

## 중첩 타입 파라미터 
 제네릭 객체를 제네릭 탕비 파라미터로 받는 형식도 표현할 수 있다. 
 ArrayList 자체도 하나의 타입으로써(Collection) 제네릭 타입 파라미터가 될 수 있기 때문에 이렇게 중첩형식으로 사용할 수 있는 것이다. 
 ```java 
 public static void main(String[] args){
	 // LinkedList<String>을 원소로서 저장하는 ArrayList
	ArrayList<LinkedList<String>> list = new ArrayList<LinkedList<String>>();

	LinkedList<String> node1 = new LinkdedList<>():
	node1.add("aa");
	node1.add("bb");

	LinkedList<String> node2 = new LinkdedList<>();
	node2.add("11");
	node2.add("22");

	list.add(node1);
	list.add(node2);

	System.out.pritln(list); //[[aa,bb],[11,22]]

 }
```


## 타입 파라미터 기호 네이밍 
지금 까지 제네릭 기호를 `<T>` 와 같이 써서 표현했지만 사실 식별자 기호는 문법적으로 정해진 것이 없다. 
다만 우리가 for문을 이용할 때 루프 변수를 `i`로 지정해서 사용하듯이, 제네릭 표현 변수를 `T`로 표현한다고 보면 된다. 만일 두번째, 세번째 제네릭이 필요하다고 보면 for문의 `j`,`k`같이 S, U로 이어나간다 